<tool name="SAGA.ta_hydrology.4" id="saga_ta_hydrology_4" version="1.0.0">
  <description>Upslope Area</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayTARGET False  isArrayELEVATION False  isArraySINKROUTE False  output_data_AREA $output_data_AREA  name SAGA.ta_hydrology.4 TARGET $TARGET
TARGET_PT_X $TARGET_PT_X
TARGET_PT_Y $TARGET_PT_Y
ELEVATION $ELEVATION
SINKROUTE $SINKROUTE
METHOD $METHOD
CONVERGE $CONVERGE
prefer $prefer
response $response
outputType_AREA $OutputSection_AREA.outputType_AREA
transmissionMode_AREA $OutputSection_AREA.transmissionMode_AREA]]></command>
  <inputs>
    <param name="TARGET" type="data" optional="false" label="Target Area" help="Target Area The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="TARGET_PT_X" type="float" value="0" optional="true" label="Target X coordinate" help="The x-coordinate of the target point in world coordinates [map units]"/>
    <param name="TARGET_PT_Y" type="float" value="0" optional="true" label="Target Y coordinate" help="The y-coordinate of the target point in world coordinates [map units]"/>
    <param name="ELEVATION" type="data" optional="false" label="Elevation" help="Elevation The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="SINKROUTE" type="data" optional="false" label="Sink Routes" help="Sink Routes The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="METHOD" type="select" optional="true" label="Method" help="Method">
      <option value="Deterministic_8">Deterministic 8</option>
      <option value="Deterministic_Infinity">Deterministic Infinity</option>
      <option selected="true" value="Multiple_Flow_Direction">Multiple Flow Direction</option>
    </param>
    <param name="CONVERGE" type="float" value="1.1" optional="true" label="Convergence" help="Convergence factor for Multiple Flow Direction algorithm"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_AREA" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_AREA" type="select" label="Upslope Area" help="Upslope Area">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_AREA" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_AREA" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_AREA" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_AREA" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_AREA" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[This tool allows you to specify target cells, for which the upslope contributing area shall be identified. The result will give for each cell the percentage of its flow that reaches the target cell(s).&lt;br/&gt;_______&lt;br/&gt;&lt;br/&gt;This version uses all valid cells (not 'no data' values) of a given target grid to determine the contributing area. In case no target grid is provided as input, the specified x/y coordinates are used as target point.]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
