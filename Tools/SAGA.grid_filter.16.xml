<tool name="SAGA.grid_filter.16" id="saga_grid_filter_16" version="1.0.0">
  <description>Wombling (Edge Detection)</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayFEATURE False  output_data_EDGE_POINTS $output_data_EDGE_POINTS  output_data_EDGE_LINES $output_data_EDGE_LINES  output_data_GRADIENTS $output_data_GRADIENTS  name SAGA.grid_filter.16 TMAGNITUDE $TMAGNITUDE
TDIRECTION $TDIRECTION
TNEIGHBOUR $TNEIGHBOUR
ALIGNMENT $ALIGNMENT
NEIGHBOUR $NEIGHBOUR
FEATURE $FEATURE
GRADIENTS_OUT $GRADIENTS_OUT
prefer $prefer
response $response
outputType_EDGE_POINTS $OutputSection_EDGE_POINTS.outputType_EDGE_POINTS
transmissionMode_EDGE_POINTS $OutputSection_EDGE_POINTS.transmissionMode_EDGE_POINTS
outputType_EDGE_LINES $OutputSection_EDGE_LINES.outputType_EDGE_LINES
transmissionMode_EDGE_LINES $OutputSection_EDGE_LINES.transmissionMode_EDGE_LINES
outputType_GRADIENTS $OutputSection_GRADIENTS.outputType_GRADIENTS
transmissionMode_GRADIENTS $OutputSection_GRADIENTS.transmissionMode_GRADIENTS]]></command>
  <inputs>
    <param name="TMAGNITUDE" type="float" value="90" optional="true" label="Minimum Magnitude" help="Minimum magnitude as percentile."/>
    <param name="TDIRECTION" type="float" value="30" optional="true" label="Maximum Angle" help="Maximum angular difference as degree between adjacent segment points."/>
    <param name="TNEIGHBOUR" type="integer" value="1" optional="true" label="Minimum Neighbours" help="Minimum number of neighbouring potential edge cells with similar direction."/>
    <param name="ALIGNMENT" type="select" optional="true" label="Alignment" help="Alignment">
      <option value="between_cells">between cells</option>
      <option selected="true" value="on_cell">on cell</option>
    </param>
    <param name="NEIGHBOUR" type="select" optional="true" label="Edge Connectivity" help="Edge Connectivity">
      <option selected="true" value="Queen's_case">Queen's case</option>
      <option value="Rooke's_case">Rooke's case</option>
    </param>
    <param name="FEATURE" type="data" optional="false" label="Feature" help="Feature The following data types are allowed in the txt file:  png, x-ogc-aaigrid, tiff, x-ogc-envi" format="txt"/>
    <param name="GRADIENTS_OUT" type="select" optional="true" label="Output of Gradients" help="Output of Gradients">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_EDGE_POINTS" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_EDGE_POINTS" type="select" label="Edge Points" help="Edge Points">
        <option value="application/json">json</option>
        <option value="application/vnd.google-earth.kml+xml">vnd.google-earth.kml+xml</option>
        <option value="text/xml">xml</option>
      </param>
      <param name="transmissionMode_EDGE_POINTS" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_EDGE_LINES" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_EDGE_LINES" type="select" label="Edge Segments" help="Edge Segments">
        <option value="application/json">json</option>
        <option value="application/vnd.google-earth.kml+xml">vnd.google-earth.kml+xml</option>
        <option value="text/xml">xml</option>
      </param>
      <param name="transmissionMode_EDGE_LINES" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_GRADIENTS" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_GRADIENTS" type="select" label="Gradients" help="Gradients">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_GRADIENTS" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_EDGE_POINTS" format="xml" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_EDGE_POINTS" format="vnd.google-earth.kml+xml" value="application/vnd.google-earth.kml+xml"/>
        <when input="outputType_EDGE_POINTS" format="json" value="application/json"/>
      </change_format>
    </data>
    <data name="output_data_EDGE_LINES" format="xml" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_EDGE_LINES" format="vnd.google-earth.kml+xml" value="application/vnd.google-earth.kml+xml"/>
        <when input="outputType_EDGE_LINES" format="json" value="application/json"/>
      </change_format>
    </data>
    <data name="output_data_GRADIENTS" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_GRADIENTS" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_GRADIENTS" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_GRADIENTS" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[Continuous Wombling for edge detection. Uses magnitude of gradient to detect edges between adjacent cells. Edge segments connect such edges, when the difference of their gradient directions is below given threshold.]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
