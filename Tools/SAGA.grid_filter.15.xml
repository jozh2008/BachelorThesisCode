<tool name="SAGA.grid_filter.15" id="saga_grid_filter_15" version="1.0.0">
  <description>Sieve Classes</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayINPUT False  output_data_OUTPUT $output_data_OUTPUT  name SAGA.grid_filter.15 INPUT $INPUT
MODE $MODE
THRESHOLD $THRESHOLD
ALL $ALL
CLASS $CLASS
prefer $prefer
response $response
outputType_OUTPUT $OutputSection_OUTPUT.outputType_OUTPUT
transmissionMode_OUTPUT $OutputSection_OUTPUT.transmissionMode_OUTPUT]]></command>
  <inputs>
    <param name="INPUT" type="data" optional="false" label="Classes" help="Classes The following data types are allowed in the txt file:  png, tiff, x-ogc-aaigrid, x-ogc-envi" format="txt"/>
    <param name="MODE" type="select" optional="true" label="Neighbourhood" help="Neumann: the four horizontally and vertically neighboured cells; Moore: all eight adjacent cells">
      <option value="Moore">Moore</option>
      <option selected="true" value="Neumann">Neumann</option>
    </param>
    <param name="THRESHOLD" type="integer" value="4" optional="true" label="Minimum Threshold" help="Minimum number of cells in a group of adjacent cells."/>
    <param name="ALL" type="select" optional="true" label="Class Selection" help="Class Selection">
      <option selected="true" value="all_classes">all classes</option>
      <option value="single_class">single class</option>
    </param>
    <param name="CLASS" type="float" value="1" optional="true" label="Class Identifier" help="Class Identifier"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_OUTPUT" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_OUTPUT" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_OUTPUT" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_OUTPUT" format="tiff" label="output_data_OUTPUT" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_OUTPUT" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_OUTPUT" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_OUTPUT" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <param name="response" value="document"/>
      <output name="output_data_OUTPUT" ftype="txt" value="output_data_OUTPUT.txt"/>
    </test>
  </tests>
  <help><![CDATA[The 'Sieve Classes' tool counts the number of adjacent cells sharing the same value (the class identifier). Areas that are formed by less cells than specified by the treshold will be removed (sieved), i.e. they are set to no-data. ]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
