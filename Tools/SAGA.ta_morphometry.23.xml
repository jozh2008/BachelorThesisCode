<tool name="SAGA.ta_morphometry.23" id="saga_ta_morphometry_23" version="1.0.0">
  <description>Morphometric Features</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayDEM False  output_data_FEATURES $output_data_FEATURES  output_data_ELEVATION $output_data_ELEVATION  output_data_SLOPE $output_data_SLOPE  output_data_ASPECT $output_data_ASPECT  output_data_PROFC $output_data_PROFC  output_data_PLANC $output_data_PLANC  output_data_LONGC $output_data_LONGC  output_data_CROSC $output_data_CROSC  output_data_MAXIC $output_data_MAXIC  output_data_MINIC $output_data_MINIC  name SAGA.ta_morphometry.23 DEM $DEM
SIZE $SIZE
TOL_SLOPE $TOL_SLOPE
TOL_CURVE $TOL_CURVE
EXPONENT $EXPONENT
ZSCALE $ZSCALE
CONSTRAIN $CONSTRAIN
prefer $prefer
response $response
outputType_FEATURES $OutputSection_FEATURES.outputType_FEATURES
transmissionMode_FEATURES $OutputSection_FEATURES.transmissionMode_FEATURES
outputType_ELEVATION $OutputSection_ELEVATION.outputType_ELEVATION
transmissionMode_ELEVATION $OutputSection_ELEVATION.transmissionMode_ELEVATION
outputType_SLOPE $OutputSection_SLOPE.outputType_SLOPE
transmissionMode_SLOPE $OutputSection_SLOPE.transmissionMode_SLOPE
outputType_ASPECT $OutputSection_ASPECT.outputType_ASPECT
transmissionMode_ASPECT $OutputSection_ASPECT.transmissionMode_ASPECT
outputType_PROFC $OutputSection_PROFC.outputType_PROFC
transmissionMode_PROFC $OutputSection_PROFC.transmissionMode_PROFC
outputType_PLANC $OutputSection_PLANC.outputType_PLANC
transmissionMode_PLANC $OutputSection_PLANC.transmissionMode_PLANC
outputType_LONGC $OutputSection_LONGC.outputType_LONGC
transmissionMode_LONGC $OutputSection_LONGC.transmissionMode_LONGC
outputType_CROSC $OutputSection_CROSC.outputType_CROSC
transmissionMode_CROSC $OutputSection_CROSC.transmissionMode_CROSC
outputType_MAXIC $OutputSection_MAXIC.outputType_MAXIC
transmissionMode_MAXIC $OutputSection_MAXIC.transmissionMode_MAXIC
outputType_MINIC $OutputSection_MINIC.outputType_MINIC
transmissionMode_MINIC $OutputSection_MINIC.transmissionMode_MINIC]]></command>
  <inputs>
    <param name="DEM" type="data" optional="false" label="Elevation" help="Elevation The following data types are allowed in the txt file:  tiff, x-ogc-envi, png, x-ogc-aaigrid" format="txt"/>
    <param name="SIZE" type="integer" value="5" optional="true" label="Scale Radius (Cells)" help="Size of processing window (= 1 + 2 * radius) given as number of cells"/>
    <param name="TOL_SLOPE" type="float" value="1" optional="true" label="Slope Tolerance" help="Slope tolerance that defines a 'flat' surface (degrees)"/>
    <param name="TOL_CURVE" type="float" value="0.0001" optional="true" label="Curvature Tolerance" help="Curvature tolerance that defines 'planar' surface"/>
    <param name="EXPONENT" type="float" value="0" optional="true" label="Distance Weighting Exponent" help="Exponent for distance weighting (0.0-4.0)"/>
    <param name="ZSCALE" type="float" value="1" optional="true" label="Vertical Scaling" help="Vertical scaling factor"/>
    <param name="CONSTRAIN" type="select" optional="true" label="Constrain" help="Constrain model through central window cell">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_FEATURES" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_FEATURES" type="select" label="Morphometric Features" help="Morphometric Features">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_FEATURES" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_ELEVATION" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_ELEVATION" type="select" label="Generalized Surface" help="Generalized Surface">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_ELEVATION" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_SLOPE" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_SLOPE" type="select" label="Slope" help="Slope">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_SLOPE" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_ASPECT" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_ASPECT" type="select" label="Aspect" help="Aspect">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_ASPECT" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_PROFC" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_PROFC" type="select" label="Profile Curvature" help="Profile Curvature">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_PROFC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_PLANC" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_PLANC" type="select" label="Plan Curvature" help="Plan Curvature">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_PLANC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_LONGC" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_LONGC" type="select" label="Longitudinal Curvature" help="Longitudinal Curvature">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_LONGC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_CROSC" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_CROSC" type="select" label="Cross-Sectional Curvature" help="Cross-Sectional Curvature">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_CROSC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_MAXIC" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_MAXIC" type="select" label="Maximum Curvature" help="Maximum Curvature">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_MAXIC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_MINIC" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_MINIC" type="select" label="Minimum Curvature" help="Minimum Curvature">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_MINIC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_FEATURES" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_FEATURES" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_FEATURES" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_FEATURES" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_ELEVATION" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_ELEVATION" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_ELEVATION" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_ELEVATION" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_SLOPE" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_SLOPE" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_SLOPE" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_SLOPE" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_ASPECT" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_ASPECT" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_ASPECT" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_ASPECT" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_PROFC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_PROFC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_PROFC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_PROFC" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_PLANC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_PLANC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_PLANC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_PLANC" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_LONGC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_LONGC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_LONGC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_LONGC" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_CROSC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_CROSC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_CROSC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_CROSC" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_MAXIC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_MAXIC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_MAXIC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_MAXIC" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_MINIC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_MINIC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_MINIC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_MINIC" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[Uses a multi-scale approach by fitting quadratic parameters to any size window (via least squares) to derive slope, aspect and curvatures (optional output) for subsequent classification of morphometric features (peaks, ridges, passes, channels, pits and planes). This is the method as proposed and implemented by Jo Wood (1996) in LandSerf and GRASS GIS (r.param.scale). &lt;br/&gt;&lt;br/&gt;Optional output is described in the following. Generalised elevation is the smoothed input DEM. Slope is the magnitude of maximum gradient. It is given for steepest slope angle and measured in degrees. Aspect is the direction of maximum gradient. Profile curvature is the curvature intersecting with the plane defined by the Z axis and maximum gradient direction. Positive values describe convex profile curvature, negative values concave profile. Plan curvature is the horizontal curvature, intersecting with the XY plane. Longitudinal curvature is the profile curvature intersecting with the plane defined by the surface normal and maximum gradient direction. Cross-sectional curvature is the tangential curvature intersecting with the plane defined by the surface normal and a tangent to the contour - perpendicular to maximum gradient direction. Minimum curvature is measured in direction perpendicular to the direction of of maximum curvature. The maximum curvature is measured in any direction. &lt;br/&gt;&lt;br/&gt;References:&lt;br/&gt;&lt;br/&gt;Wood, J. (1996): The Geomorphological characterisation of Digital Elevation Models. Diss., Department of Geography, University of Leicester, U.K. &lt;a target="_blank" href="http://www.soi.city.ac.uk/~jwo/phd/"&gt;online&lt;/a&gt;.&lt;br/&gt;&lt;br/&gt;Wood, J. (2009): Geomorphometry in LandSerf. In: Hengl, T. and Reuter, H.I. [Eds.]: Geomorphometry: Concepts, Software, Applications. Developments in Soil Science, Elsevier, Vol.33, 333-349.&lt;br/&gt;&lt;br/&gt;&lt;a target="_blank" href="http://www.landserf.org/"&gt;LandSerf Homepage&lt;/a&gt;.]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
