<tool name="SAGA.ta_hydrology.15" id="saga_ta_hydrology_15" version="1.0.0">
  <description>SAGA Wetness Index</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayDEM False  isArrayWEIGHT False  output_data_AREA $output_data_AREA  output_data_SLOPE $output_data_SLOPE  output_data_AREA_MOD $output_data_AREA_MOD  output_data_TWI $output_data_TWI  name SAGA.ta_hydrology.15 DEM $DEM
WEIGHT $WEIGHT
SUCTION $SUCTION
AREA_TYPE $AREA_TYPE
SLOPE_TYPE $SLOPE_TYPE
SLOPE_MIN $SLOPE_MIN
SLOPE_OFF $SLOPE_OFF
SLOPE_WEIGHT $SLOPE_WEIGHT
prefer $prefer
response $response
outputType_AREA $OutputSection_AREA.outputType_AREA
transmissionMode_AREA $OutputSection_AREA.transmissionMode_AREA
outputType_SLOPE $OutputSection_SLOPE.outputType_SLOPE
transmissionMode_SLOPE $OutputSection_SLOPE.transmissionMode_SLOPE
outputType_AREA_MOD $OutputSection_AREA_MOD.outputType_AREA_MOD
transmissionMode_AREA_MOD $OutputSection_AREA_MOD.transmissionMode_AREA_MOD
outputType_TWI $OutputSection_TWI.outputType_TWI
transmissionMode_TWI $OutputSection_TWI.transmissionMode_TWI]]></command>
  <inputs>
    <param name="DEM" type="data" optional="false" label="Elevation" help="Elevation The following data types are allowed in the txt file:  x-ogc-aaigrid, png, tiff, x-ogc-envi" format="txt"/>
    <param name="WEIGHT" type="data" optional="false" label="Weights" help="Weights The following data types are allowed in the txt file:  x-ogc-aaigrid, png, tiff, x-ogc-envi" format="txt"/>
    <param name="SUCTION" type="float" value="10" optional="true" label="Suction" help="the lower this value is the stronger is the suction effect"/>
    <param name="AREA_TYPE" type="select" optional="true" label="Type of Area" help="Type of Area">
      <option value="specific_catchment_area">specific catchment area</option>
      <option selected="true" value="square_root_of_catchment_area">square root of catchment area</option>
      <option value="total_catchment_area">total catchment area</option>
    </param>
    <param name="SLOPE_TYPE" type="select" optional="true" label="Type of Slope" help="Type of Slope">
      <option selected="true" value="catchment_slope">catchment slope</option>
      <option value="local_slope">local slope</option>
    </param>
    <param name="SLOPE_MIN" type="float" value="0" optional="true" label="Minimum Slope" help="Minimum Slope"/>
    <param name="SLOPE_OFF" type="float" value="0.1" optional="true" label="Offset Slope" help="Offset Slope"/>
    <param name="SLOPE_WEIGHT" type="float" value="1" optional="true" label="Slope Weighting" help="weighting factor for slope in index calculation"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_AREA" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_AREA" type="select" label="Catchment Area" help="Catchment Area">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_AREA" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_SLOPE" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_SLOPE" type="select" label="Catchment Slope" help="Catchment Slope">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_SLOPE" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_AREA_MOD" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_AREA_MOD" type="select" label="Modified Catchment Area" help="Modified Catchment Area">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_AREA_MOD" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_TWI" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_TWI" type="select" label="Topographic Wetness Index" help="Topographic Wetness Index">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_TWI" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_AREA" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_AREA" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_AREA" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_AREA" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_SLOPE" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_SLOPE" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_SLOPE" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_SLOPE" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_AREA_MOD" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_AREA_MOD" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_AREA_MOD" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_AREA_MOD" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_TWI" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_TWI" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_TWI" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_TWI" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[The 'SAGA Wetness Index' is, as the name says, similar to the 'Topographic Wetness Index' (TWI), but it is based on a modified catchment area calculation ('Modified Catchment Area'), which does not think of the flow as very thin film. As result it predicts for cells situated in valley floors with a small vertical distance to a channel a more realistic, higher potential soil moisture compared to the standard TWI calculation.]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
