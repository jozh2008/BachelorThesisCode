<tool name="SAGA.pj_georeference.4" id="saga_pj_georeference_4" version="1.0.0">
  <description>Direct Georeferencing of Airborne Photographs</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayINPUT True  isArrayDEM False  output_data_OUTPUT $output_data_OUTPUT  output_data_EXTENT $output_data_EXTENT  name SAGA.pj_georeference.4 INPUT $INPUT
DEM $DEM
ZREF $ZREF
X $X
Y $Y
Z $Z
ORIENTATION $ORIENTATION
OMEGA $OMEGA
PHI $PHI
KAPPA $KAPPA
KAPPA_OFF $KAPPA_OFF
CFL $CFL
PXSIZE $PXSIZE
RESAMPLING $RESAMPLING
DATA_TYPE $DATA_TYPE
ROW_ORDER $ROW_ORDER
prefer $prefer
response $response
outputType_OUTPUT $OutputSection_OUTPUT.outputType_OUTPUT
transmissionMode_OUTPUT $OutputSection_OUTPUT.transmissionMode_OUTPUT
outputType_EXTENT $OutputSection_EXTENT.outputType_EXTENT
transmissionMode_EXTENT $OutputSection_EXTENT.transmissionMode_EXTENT]]></command>
  <inputs>
    <param name="INPUT" type="data" optional="false" label="Unreferenced Grids" help="Unreferenced Grids The following data types are allowed in the txt file:  png, x-ogc-aaigrid, tiff, x-ogc-envi" format="txt"/>
    <param name="DEM" type="data" optional="false" label="Elevation" help="Elevation The following data types are allowed in the txt file:  png, x-ogc-aaigrid, tiff, x-ogc-envi" format="txt"/>
    <param name="ZREF" type="float" value="0" optional="true" label="Default Reference Height" help="Default Reference Height"/>
    <param name="X" type="float" value="0" optional="true" label="X" help="X"/>
    <param name="Y" type="float" value="0" optional="true" label="Y" help="Y"/>
    <param name="Z" type="float" value="1000" optional="true" label="Flying Height" help="Flying Height"/>
    <param name="ORIENTATION" type="select" optional="true" label="Orientation" help="Orientation">
      <option selected="true" value="BLUH">BLUH</option>
      <option value="PATB">PATB</option>
    </param>
    <param name="OMEGA" type="float" value="0" optional="true" label="Omega [degree]" help="rotation around the X axis (roll)"/>
    <param name="PHI" type="float" value="0" optional="true" label="Phi [degree]" help="rotation around the Y axis (pitch)"/>
    <param name="KAPPA" type="float" value="0" optional="true" label="Kappa [degree]" help="rotation around the Z axis (heading)"/>
    <param name="KAPPA_OFF" type="float" value="90" optional="true" label="Kappa Offset [degree]" help="origin adjustment for Z axis (heading)"/>
    <param name="CFL" type="float" value="80" optional="true" label="Focal Length [mm]" help="Focal Length [mm]"/>
    <param name="PXSIZE" type="float" value="5.2" optional="true" label="CCD Physical Pixel Size [micron]" help="CCD Physical Pixel Size [micron]"/>
    <param name="RESAMPLING" type="select" optional="true" label="Resampling" help="Resampling">
      <option selected="true" value="B-Spline_Interpolation">B-Spline Interpolation</option>
      <option value="Bicubic_Spline_Interpolation">Bicubic Spline Interpolation</option>
      <option value="Bilinear_Interpolation">Bilinear Interpolation</option>
      <option value="Nearest_Neighbour">Nearest Neighbour</option>
    </param>
    <param name="DATA_TYPE" type="select" optional="true" label="Data Storage Type" help="Data Storage Type">
      <option value="1_byte_signed_integer">1 byte signed integer</option>
      <option value="1_byte_unsigned_integer">1 byte unsigned integer</option>
      <option value="2_byte_signed_integer">2 byte signed integer</option>
      <option value="2_byte_unsigned_integer">2 byte unsigned integer</option>
      <option value="4_byte_floating_point">4 byte floating point</option>
      <option value="4_byte_signed_integer">4 byte signed integer</option>
      <option value="4_byte_unsigned_integer">4 byte unsigned integer</option>
      <option value="8_byte_floating_point">8 byte floating point</option>
      <option selected="true" value="same_as_original">same as original</option>
    </param>
    <param name="ROW_ORDER" type="select" optional="true" label="Row Order" help="Row Order">
      <option value="bottom_up">bottom up</option>
      <option selected="true" value="top_down">top down</option>
    </param>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_OUTPUT" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_OUTPUT" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_OUTPUT" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_EXTENT" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_EXTENT" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/json">json</option>
        <option value="application/vnd.google-earth.kml+xml">vnd.google-earth.kml+xml</option>
        <option value="text/xml">xml</option>
      </param>
      <param name="transmissionMode_EXTENT" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_OUTPUT" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_OUTPUT" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_OUTPUT" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_OUTPUT" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_EXTENT" format="xml" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_EXTENT" format="vnd.google-earth.kml+xml" value="application/vnd.google-earth.kml+xml"/>
        <when input="outputType_EXTENT" format="json" value="application/json"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" ftype="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[Direct georeferencing of aerial photographs uses extrinsic (position, attitude) and intrinsic (focal length, physical pixel size) camera parameters. Orthorectification routine supports additional data from a Digital Elevation Model (DEM).&lt;br/&gt;&lt;br/&gt;References:&lt;br/&gt;Baumker, M. / Heimes, F.J. (2001): New Calibration and Computing Method for Direct Georeferencing of Image and Scanner Data Using the Position and Angular Data of an Hybrid Inertial Navigation System. OEEPE Workshop, Integrated Sensor Orientation, Hannover 2001. &lt;a target="_blank" href="http://www.hochschule-bochum.de/fileadmin/media/fb_v/veroeffentlichungen/baeumker/baheimesoeepe.pdf"&gt;online&lt;/a&gt;.&lt;br/&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
