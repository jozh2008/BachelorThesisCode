<tool name="SAGA.ta_preprocessor.5" id="saga_ta_preprocessor_5" version="1.0.0">
  <description>Fill Sinks XXL (Wang &amp; Liu)</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayELEV False  output_data_FILLED $output_data_FILLED  name SAGA.ta_preprocessor.5 ELEV $ELEV
MINSLOPE $MINSLOPE
prefer $prefer
response $response
outputType_FILLED $OutputSection_FILLED.outputType_FILLED
transmissionMode_FILLED $OutputSection_FILLED.transmissionMode_FILLED]]></command>
  <inputs>
    <param name="ELEV" type="data" optional="false" label="DEM" help="Digital elevation model The following data types are allowed in the txt file:  tiff, png, x-ogc-aaigrid, x-ogc-envi" format="txt"/>
    <param name="MINSLOPE" type="float" value="0.1" optional="true" label="Minimum Slope [Degree]" help="Minimum slope gradient to preserve from cell to cell; with a value of zero sinks are filled up to the spill elevation (which results in flat areas). Unit [Degree]"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_FILLED" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_FILLED" type="select" label="Filled DEM" help="Depression-free digital elevation model">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_FILLED" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_FILLED" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_FILLED" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_FILLED" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_FILLED" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[This tool uses an algorithm proposed by Wang & Liu to identify and fill surface depressions in digital elevation models.&lt;br/&gt;The method was enhanced to allow the creation of hydrologic sound elevation models, i.e. not only to fill the depression(s) but also to preserve a downward slope along the flow path. If desired, this is accomplished by preserving a minimum slope gradient (and thus elevation difference) between cells.&lt;br/&gt;This version of the tool is designed to work on large data sets (e.g. LIDAR data), with smaller datasets you might like to check out the fully featured standard version of the tool.&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;References:&lt;br/&gt;Wang, L. & H. Liu (2006): An efficient method for identifying and filling surface depressions in digital elevation models for hydrologic analysis and modelling. International Journal of Geographical Information Science, Vol. 20, No. 2: 193-213.&lt;br/&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
