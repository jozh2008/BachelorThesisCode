<tool name="SAGA.grid_filter.14" id="saga_grid_filter_14" version="1.0.0">
  <description>Connectivity Analysis</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayINPUT_GRID False  output_data_FILTERED_MASK $output_data_FILTERED_MASK  output_data_SYMBOLIC_IMAGE $output_data_SYMBOLIC_IMAGE  output_data_OUTLINES $output_data_OUTLINES  name SAGA.grid_filter.14 INPUT_GRID $INPUT_GRID
FILTER $FILTER
SIZE $SIZE
BORDER_PIXEL_CENTERS $BORDER_PIXEL_CENTERS
REMOVE_MARGINAL_REGIONS $REMOVE_MARGINAL_REGIONS
prefer $prefer
response $response
outputType_FILTERED_MASK $OutputSection_FILTERED_MASK.outputType_FILTERED_MASK
transmissionMode_FILTERED_MASK $OutputSection_FILTERED_MASK.transmissionMode_FILTERED_MASK
outputType_SYMBOLIC_IMAGE $OutputSection_SYMBOLIC_IMAGE.outputType_SYMBOLIC_IMAGE
transmissionMode_SYMBOLIC_IMAGE $OutputSection_SYMBOLIC_IMAGE.transmissionMode_SYMBOLIC_IMAGE
outputType_OUTLINES $OutputSection_OUTLINES.outputType_OUTLINES
transmissionMode_OUTLINES $OutputSection_OUTLINES.transmissionMode_OUTLINES]]></command>
  <inputs>
    <param name="INPUT_GRID" type="data" optional="false" label="Input Binary Grid" help="Binary input image for the connectivity analysis The following data types are allowed in the txt file:  png, x-ogc-aaigrid, tiff, x-ogc-envi" format="txt"/>
    <param name="FILTER" type="select" optional="true" label="Apply Filter?" help="Apply a filter (erosion - binary reconstruction) to the input image ">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="SIZE" type="integer" value="3" optional="true" label="Filter Size (Radius)" help="Filter size (radius in grid cells)"/>
    <param name="BORDER_PIXEL_CENTERS" type="select" optional="true" label="Pixel Centers?" help="Should the output shapes contain the centers of the border pixels instead of the corners?">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="REMOVE_MARGINAL_REGIONS" type="select" optional="true" label="Remove Border Regions?" help="Remove regions which have contact with (are adjacent to) the image borders?">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_FILTERED_MASK" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_FILTERED_MASK" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_FILTERED_MASK" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_SYMBOLIC_IMAGE" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_SYMBOLIC_IMAGE" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_SYMBOLIC_IMAGE" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_OUTLINES" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_OUTLINES" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/json">json</option>
        <option value="application/vnd.google-earth.kml+xml">vnd.google-earth.kml+xml</option>
        <option value="text/xml">xml</option>
      </param>
      <param name="transmissionMode_OUTLINES" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_FILTERED_MASK" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_FILTERED_MASK" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_FILTERED_MASK" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_FILTERED_MASK" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_SYMBOLIC_IMAGE" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_SYMBOLIC_IMAGE" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_SYMBOLIC_IMAGE" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_SYMBOLIC_IMAGE" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_OUTLINES" format="xml" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_OUTLINES" format="vnd.google-earth.kml+xml" value="application/vnd.google-earth.kml+xml"/>
        <when input="outputType_OUTLINES" format="json" value="application/json"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" ftype="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[Connectivity analysis of a binary input image according to &lt;br/&gt;Burger, W., Burge, M.: Digitale Bildverarbeitung. Springer Verlag 2006, p.208.&lt;br/&gt;Output consists in a symbolic image of the connected foreground regions and a shape of the borders of the foreground regions (outer and inner borders). The shape may contain alternatively the centers or the corners of the border pixels. Optionally, the regions which have contact with the image borders can be removed together with their border shapes. &lt;br/&gt;In addition, an optional morphological filter (erosion-binary reconstruction) can be applied to the input image first. &lt;br/&gt;&lt;br/&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
