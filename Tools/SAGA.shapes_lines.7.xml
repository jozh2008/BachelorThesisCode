<tool name="SAGA.shapes_lines.7" id="saga_shapes_lines_7" version="1.0.0">
  <description>Line Smoothing</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayLINES_IN False  output_data_LINES_OUT $output_data_LINES_OUT  name SAGA.shapes_lines.7 LINES_IN $LINES_IN
METHOD $METHOD
SENSITIVITY $SENSITIVITY
ITERATIONS $ITERATIONS
PRESERVATION $PRESERVATION
SIGMA $SIGMA
prefer $prefer
response $response
outputType_LINES_OUT $OutputSection_LINES_OUT.outputType_LINES_OUT
transmissionMode_LINES_OUT $OutputSection_LINES_OUT.transmissionMode_LINES_OUT]]></command>
  <inputs>
    <param name="LINES_IN" type="data" optional="false" label="Lines" help="The input line shapefile to smooth. The following data types are allowed in the txt file:  vnd.google-earth.kml+xml, xml, json" format="txt"/>
    <param name="METHOD" type="select" optional="true" label="Method" help="Choose the method to apply.">
      <option selected="true" value="Gaussian_Filtering">Gaussian Filtering</option>
      <option value="basic_SIA_model">basic SIA model</option>
      <option value="improved_SIA_model">improved SIA model</option>
    </param>
    <param name="SENSITIVITY" type="integer" value="3" optional="true" label="Sensitivity" help="Half the size of the moving window [vertex count], controls smoothing sensitivity."/>
    <param name="ITERATIONS" type="integer" value="10" optional="true" label="Iterations" help="The number of smoothing iterations [-]."/>
    <param name="PRESERVATION" type="float" value="10" optional="true" label="Preservation" help="The smoothing preservation factor [-]."/>
    <param name="SIGMA" type="float" value="2" optional="true" label="Sigma" help="Standard deviation of the Gaussian filter [-]."/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_LINES_OUT" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_LINES_OUT" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/json">json</option>
        <option value="application/vnd.google-earth.kml+xml">vnd.google-earth.kml+xml</option>
        <option value="text/xml">xml</option>
      </param>
      <param name="transmissionMode_LINES_OUT" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_LINES_OUT" format="xml" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_LINES_OUT" format="vnd.google-earth.kml+xml" value="application/vnd.google-earth.kml+xml"/>
        <when input="outputType_LINES_OUT" format="json" value="application/json"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" ftype="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[The tool provides methods for line smoothing including iterative averaging (SIA) and Gaussian filtering.&lt;br/&gt;&lt;br/&gt;Iterative averaging (SIA) is described by Mansouryar & Hedayati (2012). A higher smoothing sensitivity results in a stronger smoothing in less iterations and vice versa. The 'improved SIA model' simply applies a preservation factor in the first iteration and then runs the 'basic SIA model' for the following iterations.&lt;br/&gt;&lt;br/&gt;Gaussian filtering with shrinkage correction is described by Lowe (1989).&lt;br/&gt;&lt;br/&gt;In case the density of line vertices is too high, the 'Line Simplification' tool can be applied first. If the density of line vertices is too low, additional vertices can be inserted by applying the 'Convert Lines to Points' and the 'Convert Points to Line(s)' tools prior to smoothing.&lt;br/&gt;&lt;br/&gt;References:&lt;br/&gt;Lowe, D. (1989): Organization of Smooth Image Curves at Multiple Scales. International Journal of Computer Vision, 3: 119-130. (&lt;a target="_blank" href="http://www.cs.ubc.ca/~lowe/papers/iccv88.pdf"&gt;pdf&lt;/a&gt;)&lt;br/&gt;&lt;br/&gt;Mansouryar, M. & Hedayati, A. (2012): Smoothing Via Iterative Averaging (SIA) - A Basic Technique for Line Smoothing. International Journal of Computer and Electrical Engineering Vol. 4, No. 3: 307-311. (&lt;a target="_blank" href="http://www.ijcee.org/papers/501-P063.pdf"&gt;pdf&lt;/a&gt;)&lt;br/&gt;&lt;br/&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
