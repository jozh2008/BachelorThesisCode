<tool name="SAGA.sim_hydrology.7" id="saga_sim_hydrology_7" version="1.0.0">
  <description>Surface, Gradient and Concentration</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayMASK False  output_data_SURF $output_data_SURF  output_data_GRAD $output_data_GRAD  output_data_CONC $output_data_CONC  name SAGA.sim_hydrology.7 MASK $MASK
SURF_E $SURF_E
CONC_IN $CONC_IN
CONC_OUT $CONC_OUT
CONC_E $CONC_E
GRAD_MIN $GRAD_MIN
NEIGHBOURS $NEIGHBOURS
prefer $prefer
response $response
outputType_SURF $OutputSection_SURF.outputType_SURF
transmissionMode_SURF $OutputSection_SURF.transmissionMode_SURF
outputType_GRAD $OutputSection_GRAD.outputType_GRAD
transmissionMode_GRAD $OutputSection_GRAD.transmissionMode_GRAD
outputType_CONC $OutputSection_CONC.outputType_CONC
transmissionMode_CONC $OutputSection_CONC.transmissionMode_CONC]]></command>
  <inputs>
    <param name="MASK" type="data" optional="false" label="Mask" help="Mask The following data types are allowed in the txt file:  x-ogc-envi, png, tiff, x-ogc-aaigrid" format="txt"/>
    <param name="SURF_E" type="float" value="0.001" optional="true" label="Surface Approximation Threshold" help="Surface Approximation Threshold"/>
    <param name="CONC_IN" type="float" value="5" optional="true" label="Inlet Concentration" help="Inlet Concentration"/>
    <param name="CONC_OUT" type="float" value="3" optional="true" label="Outlet Concentration" help="Outlet Concentration"/>
    <param name="CONC_E" type="float" value="0.001" optional="true" label="Concentration Approximation Threshold" help="Concentration Approximation Threshold"/>
    <param name="GRAD_MIN" type="float" value="0" optional="true" label="Minimum Gradient" help="Minimum Gradient"/>
    <param name="NEIGHBOURS" type="select" optional="true" label="Neighbourhood" help="Neighbourhood">
      <option selected="true" value="Moore_(8)">Moore (8)</option>
      <option value="Neumann_(4)">Neumann (4)</option>
      <option value="Optimised">Optimised</option>
    </param>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_SURF" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_SURF" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_SURF" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_GRAD" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_GRAD" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_GRAD" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_CONC" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_CONC" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_CONC" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_SURF" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_SURF" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_SURF" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_SURF" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_GRAD" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_GRAD" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_GRAD" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_GRAD" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_CONC" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_CONC" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_CONC" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_CONC" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[Cellular automata are simple computational operators, but despite their simplicity, they allow the simulation of highly complex processes. This tool has been created to apply the concept of cellular automata to simulate diffusion and flow processes in shallow water bodies with in- and outflow, where monitoring data show concentration growth or decrease between the inflow and the outflow points. Parameters are for example nutrients like nitrate, which is reduced by denitrification process inside the water body.&lt;br/&gt;Values of mask grid are expected to be 1 for water area, 2 for inlet, 3 for outlet and 0 for non water.&lt;br/&gt;&lt;br/&gt;References:&lt;br/&gt;&lt;ul&gt;&lt;li&gt;Heinrich, R. / Conrad, O. (2008): Diffusion, Flow and Concentration Gradient Simulation with SAGA GIS using Cellular Automata Methods. In: Boehner, J. / Blaschke, T. / Montanarella, L. [Eds.]: SAGA - Seconds Out. Hamburger Beitraege zur Physischen Geographie und Landschaftsoekologie, Vol.19, p59-70, &lt;a href="http://downloads.sourceforge.net/saga-gis/hbpl19_07.pdf"&gt;online&lt;/a&gt;.&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
