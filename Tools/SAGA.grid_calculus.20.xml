<tool name="SAGA.grid_calculus.20" id="saga_grid_calculus_20" version="1.0.0">
  <description>Grid Collection Calculator</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayGRIDS True  isArrayXGRIDS True  output_data_RESULT $output_data_RESULT  name SAGA.grid_calculus.20 RESAMPLING $RESAMPLING
FORMULA '$FORMULA'
NAME '$NAME'
FNAME $FNAME
USE_NODATA $USE_NODATA
TYPE $TYPE
GRIDS $GRIDS
XGRIDS $XGRIDS
prefer $prefer
response $response
outputType_RESULT $OutputSection_RESULT.outputType_RESULT
transmissionMode_RESULT $OutputSection_RESULT.transmissionMode_RESULT]]></command>
  <inputs>
    <param name="RESAMPLING" type="select" optional="true" label="Resampling" help="Resampling">
      <option selected="true" value="B-Spline_Interpolation">B-Spline Interpolation</option>
      <option value="Bicubic_Spline_Interpolation">Bicubic Spline Interpolation</option>
      <option value="Bilinear_Interpolation">Bilinear Interpolation</option>
      <option value="Nearest_Neighbour">Nearest Neighbour</option>
    </param>
    <param name="FORMULA" type="text" value="(g1 - g2) / (g1 + g2)" optional="true" label="Formula" help="Formula"/>
    <param name="NAME" type="text" value="Calculation" optional="true" label="Name" help="Name"/>
    <param name="FNAME" type="select" optional="true" label="Take Formula" help="Take Formula">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="USE_NODATA" type="select" optional="true" label="Use No-Data" help="Check this in order to include no-data cells in the calculation.">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="TYPE" type="select" optional="true" label="Data Type" help="Data Type">
      <option selected="true" value="4_byte_floating_point_number">4 byte floating point number</option>
      <option value="8_byte_floating_point_number">8 byte floating point number</option>
      <option value="bit">bit</option>
      <option value="signed_1_byte_integer">signed 1 byte integer</option>
      <option value="signed_2_byte_integer">signed 2 byte integer</option>
      <option value="signed_4_byte_integer">signed 4 byte integer</option>
      <option value="unsigned_1_byte_integer">unsigned 1 byte integer</option>
      <option value="unsigned_2_byte_integer">unsigned 2 byte integer</option>
      <option value="unsigned_4_byte_integer">unsigned 4 byte integer</option>
    </param>
    <param name="GRIDS" type="data" optional="false" label="Grid Collections" help="in the formula these grid collections are addressed in order of the list as 'g1, g2, g3, ...' The following data types are allowed in the txt file:  tiff, x-ogc-envi, x-ogc-aaigrid, png" format="txt"/>
    <param name="XGRIDS" type="data" optional="false" label="Grid Collections from different Systems" help="in the formula these grid collections are addressed in order of the list as 'h1, h2, h3, ...' The following data types are allowed in the txt file:  tiff, x-ogc-envi, x-ogc-aaigrid, png" format="txt"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_RESULT" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_RESULT" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_RESULT" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_RESULT" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_RESULT" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_RESULT" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_RESULT" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[The Grid Collection Calculator creates a new grid collection combining existing ones using the given formula. It is assumed that all input grid collections have the same number of grid layers. The variables in the formula begin with the letter 'g' followed by a position index, which corresponds to the order of the grid collections in the input grid collection list (i.e.: g1, g2, g3, ... correspond to the first, second, third, ... grid collection in list). Grid collections from other systems than the default one can be addressed likewise using the letter 'h' (h1, h2, h3, ...), which correspond to the 'Grid collections from different Systems' list.&lt;br/&gt;&lt;br/&gt;Example:	 sin(g1) * g2 + 2 * h1&lt;br/&gt;&lt;br/&gt;The following operators are available for the formula definition:&lt;br/&gt;&lt;table border="0"&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;+&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Addition&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;-&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Subtraction&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;*&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Multiplication&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;/&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Division&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;abs(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Absolute Value&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;mod(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns the floating point remainder of x/y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;int(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns the integer part of floating point value x&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;sqr(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Square&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;sqrt(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Square Root&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;exp(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Exponential&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;pow(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns x raised to the power of y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;x ^ y&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns x raised to the power of y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ln(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Natural Logarithm&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;log(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Base 10 Logarithm&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;pi()&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns the value of Pi&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;sin(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Sine&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;cos(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Cosine&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;tan(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Tangent&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;asin(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Arcsine&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;acos(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Arccosine&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;atan(x)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Arctangent&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;atan2(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Arctangent of x/y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;min(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns the minimum of values x and y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;max(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns the maximum of values x and y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;gt(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if x is greater than y, else false (0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;x &gt; y&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if x is greater than y, else false (0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;lt(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if x is less than y, else false (0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;x &lt; y&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if x is less than y, else false (0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;eq(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if x equals y, else false (0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;x = y&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if x equals y, else false (0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;and(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if both x and y are true (i.e. not 0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;or(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns true (1), if at least one of both x and y is true (i.e. not 0)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ifelse(c, x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns x, if condition c is true (i.e. not 0), else y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;rand_u(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Random number, uniform distribution with minimum x and maximum y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;rand_g(x, y)&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Random number, Gaussian distribution with mean x and standard deviation y&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;xpos(), ypos()&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Get the x/y coordinates for the current cell&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;col(), row()&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Get the current cell's column/row index&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;ncols(), nrows()&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Get the number of columns/rows&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;nodata()&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Returns resulting grid's no-data value&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
