<tool name="SAGA.ta_slope_stability.2" id="saga_ta_slope_stability_2" version="1.0.0">
  <description>SHALSTAB</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayA False  isArrayB False  isArrayCmin False  isArrayCmax False  isArrayDmin False  isArrayDmax False  isArrayEmin False  isArrayEmax False  isArrayFmin False  isArrayFmax False  isArrayJmin False  isArrayJmax False  output_data_G $output_data_G  output_data_H $output_data_H  name SAGA.ta_slope_stability.2 A $A
B $B
Cmin $Cmin
Cmax $Cmax
Dmin $Dmin
Dmax $Dmax
Emin $Emin
Emax $Emax
Fmin $Fmin
Fmax $Fmax
Jmin $Jmin
Jmax $Jmax
fCmin $fCmin
fCmax $fCmax
fDmin $fDmin
fDmax $fDmax
fEmin $fEmin
fEmax $fEmax
fFmin $fFmin
fFmax $fFmax
fJmin $fJmin
fJmax $fJmax
fK $fK
prefer $prefer
response $response
outputType_G $OutputSection_G.outputType_G
transmissionMode_G $OutputSection_G.transmissionMode_G
outputType_H $OutputSection_H.outputType_H
transmissionMode_H $OutputSection_H.transmissionMode_H]]></command>
  <inputs>
    <param name="A" type="data" optional="false" label="Slope grid (rad)" help="Slope grid (rad) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="B" type="data" optional="false" label="Catchment area grid (m2)" help="A catchment area grid (in square meters) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Cmin" type="data" optional="false" label="Min Density grid (g/cm3)" help="A grid representing minimum material density (in g/cm3) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Cmax" type="data" optional="false" label="Max Density grid (g/cm3)" help="A grid representing maximum material density (in g/cm3) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Dmin" type="data" optional="false" label="Min Hydraulic conductivity grid (m/hr) " help="A grid representing minimum material hydraulic conductivity (in m/hr) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Dmax" type="data" optional="false" label="Max Hydraulic conductivity grid (m/hr) " help="A grid representing maximum material hydraulic conductivity (in m/hr) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Emin" type="data" optional="false" label="Min Thickness grid (m)" help="A grid representing minimum material thickness (in m) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Emax" type="data" optional="false" label="Max Thickness grid (m)" help="A grid representing maximum material thickness (in m) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Fmin" type="data" optional="false" label="Min Friction angle grid (degree) " help="A grid representing minimum material friction angle (in degrees) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Fmax" type="data" optional="false" label="Max Friction angle grid (degree) " help="A grid representing maximum material friction angle (in degrees) The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Jmin" type="data" optional="false" label="Min Bulk cohesion grid (MPa) " help="A grid representing minimum bulk cohesion The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="Jmax" type="data" optional="false" label="Max Bulk cohesion grid (MPa) " help="A grid representing maximum bulk cohesion The following data types are allowed in the txt file:  png, x-ogc-envi, x-ogc-aaigrid, tiff" format="txt"/>
    <param name="fCmin" type="float" value="1.6" optional="true" label="Global minimum density (g/cm3)" help="Constant value if no raster set"/>
    <param name="fCmax" type="float" value="1.6" optional="true" label="Global maximum density (g/cm3)" help="Constant value if no raster set"/>
    <param name="fDmin" type="float" value="2.7" optional="true" label="Global minimum conductivity (m/hr)" help="Constant value if no raster set"/>
    <param name="fDmax" type="float" value="2.7" optional="true" label="Global maximum conductivity (m/hr)" help="Constant value if no raster set"/>
    <param name="fEmin" type="float" value="1" optional="true" label="Global minimum thickness (m)" help="Constant value if no raster set"/>
    <param name="fEmax" type="float" value="1" optional="true" label="Global maximum thickness (m)" help="Constant value if no raster set"/>
    <param name="fFmin" type="float" value="33" optional="true" label="Global minimum friction angle (degree)" help="Constant value if no raster set"/>
    <param name="fFmax" type="float" value="33" optional="true" label="Global maximum friction angle (degree)" help="Constant value if no raster set"/>
    <param name="fJmin" type="float" value="0" optional="true" label="Global minimum bulk cohesion (MPa)" help="Constant value if no raster set"/>
    <param name="fJmax" type="float" value="0" optional="true" label="Global maximum bulk cohesion (MPa)" help="Constant value if no raster set"/>
    <param name="fK" type="integer" value="1" optional="true" label="Parameter sampling runs" help="Number of sampling cycles"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_G" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_G" type="select" label="CR values" help="Resulting critical recharge (m/day) grid">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_G" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
    <section name="OutputSection_H" title="Select the appropriate transmission mode for the output format and the output value" expanded="true">
      <param name="outputType_H" type="select" label="CR classes" help="Classified critical recharge (-) grid">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_H" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_G" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_G" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_G" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_G" format="png" value="image/png"/>
      </change_format>
    </data>
    <data name="output_data_H" format="tiff" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_H" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_H" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_H" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <output name="output_data" value="txt"/>
      <param name="response" value="document"/>
    </test>
  </tests>
  <help><![CDATA[&lt;br/&gt;This tool is a realization of the SHALSTAB (Shallow Slope Stability) model from Montgomery & Dietrich (1994). The model computes grid cell critical shallow groundwater recharge values (CR in mm/day) as a measure for relative shallow slope stability, utilizing a simple model that combines a steady-state hydrologic model (a topographic wetness index) to predict groundwater pressures with an infinite slope stability model. For computation, a slope (in radians) and a catchment area (in m2) grid are required. Additionally, information on material density (g/cm3), material friction angle (&deg;), material hydraulic conductivity (m/hr), bulk cohesion (MPa) and depth to potential shear plane (m) are required that can be specified either globally or through grids. The tool produces a continuous CR (mm/day) raster with unconditionally stable cells blanked, and unconditionally unstable cells as CR = 0. Optionally, a classified CR grid can be calculated representing seven stability classes.&lt;br/&gt;&lt;br/&gt;Reference: &lt;a href="http://www.agu.org/pubs/crossref/1994/93WR02979.shtml"&gt;Montgomery D. R., Dietrich, W. E. (1994) A physically based model for the topographic control on shallow landsliding. Water Resources Research, 30, 1153-1171.&lt;/a&gt;.&lt;br/&gt;]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
