<tool name="SAGA.imagery_opencv.12" id="saga_imagery_opencv_12" version="1.0.0">
  <description>Logistic Regression (OpenCV)</description>
  <requirements>
    <requirement version="3.9" type="package">python</requirement>
  </requirements>
  <version_command><![CDATA[interpreter filename.exe --version]]></version_command>
  <command><![CDATA[$__tool_directory__/Code/openapi.py isArrayFEATURES True  isArrayMODEL_LOAD False  isArrayTRAIN_AREAS False  isArrayTRAIN_CLASS False  isArrayMODEL_SAVE False  output_data_CLASSES $output_data_CLASSES  name SAGA.imagery_opencv.12 FEATURES $FEATURES
NORMALIZE $NORMALIZE
RGB_COLORS $RGB_COLORS
MODEL_LOAD $MODEL_LOAD
TRAIN_AREAS $TRAIN_AREAS
TRAIN_CLASS $TRAIN_CLASS
TRAIN_BUFFER $TRAIN_BUFFER
MODEL_SAVE $MODEL_SAVE
LOGR_LEARNING_RATE $LOGR_LEARNING_RATE
LOGR_ITERATIONS $LOGR_ITERATIONS
LOGR_REGULARIZATION $LOGR_REGULARIZATION
LOGR_TRAIN_METHOD $LOGR_TRAIN_METHOD
LOGR_MINIBATCH_SIZE $LOGR_MINIBATCH_SIZE
prefer $prefer
response $response
outputType_CLASSES $OutputSection_CLASSES.outputType_CLASSES
transmissionMode_CLASSES $OutputSection_CLASSES.transmissionMode_CLASSES]]></command>
  <inputs>
    <param name="FEATURES" type="data" optional="false" label="Features" help="Features The following data types are allowed in the txt file:  png, tiff, x-ogc-envi, x-ogc-aaigrid" format="txt"/>
    <param name="NORMALIZE" type="select" optional="true" label="Normalize" help="Normalize">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="RGB_COLORS" type="select" optional="true" label="Update Colors from Features" help="Use the first three features in list to obtain blue, green, red components for class colour in look-up table.">
      <option selected="true" value="false">false</option>
      <option value="true">true</option>
    </param>
    <param name="MODEL_LOAD" type="data" optional="false" label="Load Model" help="Use a model previously stored to file. The following data types are allowed in the txt file:  plain" format="txt"/>
    <param name="TRAIN_AREAS" type="data" optional="false" label="Training Areas" help="Training Areas The following data types are allowed in the txt file:  json, xml, vnd.google-earth.kml+xml" format="txt"/>
    <param name="TRAIN_CLASS" type="data" optional="false" label="Class Identifier" help="Class Identifier The following data types are allowed in the txt file:  csv" format="txt"/>
    <param name="TRAIN_BUFFER" type="float" value="1" optional="true" label="Buffer Size" help="For non-polygon type training areas, creates a buffer with a diameter of specified size."/>
    <param name="MODEL_SAVE" type="data" optional="false" label="Save Model" help="Stores model to file to be used for subsequent classifications instead of training areas. The following data types are allowed in the txt file:  plain" format="txt"/>
    <param name="LOGR_LEARNING_RATE" type="float" value="1" optional="true" label="Learning Rate" help="The learning rate determines how fast we approach the solution."/>
    <param name="LOGR_ITERATIONS" type="integer" value="300" optional="true" label="Number of Iterations" help="Number of Iterations"/>
    <param name="LOGR_REGULARIZATION" type="select" optional="true" label="Regularization" help="Regularization">
      <option value="L1_norm">L1 norm</option>
      <option value="L2_norm">L2 norm</option>
      <option selected="true" value="disabled">disabled</option>
    </param>
    <param name="LOGR_TRAIN_METHOD" type="select" optional="true" label="Training Method" help="Training Method">
      <option selected="true" value="Batch_Gradient_Descent">Batch Gradient Descent</option>
      <option value="Mini-Batch_Gradient_Descent">Mini-Batch Gradient Descent</option>
    </param>
    <param name="LOGR_MINIBATCH_SIZE" type="integer" value="1" optional="true" label="Mini-Batch Size" help="Mini-Batch Size"/>
    <param name="prefer" type="select" label="Choose the Prefer">
      <option selected="true" value="respond-async;return=representation">respond-async;return=representation</option>
      <option value="return=minimal">return=minimal</option>
      <option value="return=representation">return=representation</option>
    </param>
    <param name="response" type="select" label="Response Type" help="Choose 'raw' for raw data or 'document' for document data.">
      <option selected="true" value="document">document</option>
      <option value="raw">raw</option>
    </param>
    <section name="OutputSection_CLASSES" title="Select the appropriate transmission mode for the output format" expanded="true">
      <param name="outputType_CLASSES" type="select" label="Author did not provide help for this parameter... ">
        <option value="application/x-ogc-aaigrid">x-ogc-aaigrid</option>
        <option value="application/x-ogc-envi">x-ogc-envi</option>
        <option value="image/png">png</option>
        <option value="image/tiff">tiff</option>
      </param>
      <param name="transmissionMode_CLASSES" type="select" label="Choose the transmission mode">
        <option selected="true" value="reference">reference</option>
        <option value="value">value</option>
      </param>
    </section>
  </inputs>
  <outputs>
    <data name="output_data_CLASSES" format="tiff" label="output_data_CLASSES" hidden="false">
      <change_format>
        <when input="response" format="txt" value="document"/>
        <when input="outputType_CLASSES" format="x-ogc-envi" value="application/x-ogc-envi"/>
        <when input="outputType_CLASSES" format="x-ogc-aaigrid" value="application/x-ogc-aaigrid"/>
        <when input="outputType_CLASSES" format="png" value="image/png"/>
      </change_format>
    </data>
  </outputs>
  <tests>
    <test>
      <param name="response" value="document"/>
      <output name="output_data_CLASSES" ftype="txt" value="output_data_CLASSES.txt"/>
    </test>
  </tests>
  <help><![CDATA[Integration of the OpenCV Machine Learning library for Logistic Regression based classification of gridded features. &lt;br/&gt;&lt;br/&gt;Optimization algorithms like &lt;i&gt;Batch Gradient Descent&lt;/i&gt; and &lt;i&gt;Mini-Batch Gradient Descent&lt;/i&gt; are supported in Logistic Regression. It is important that we mention the number of iterations these optimization algorithms have to run. The number of iterations can be thought as number of steps taken and learning rate specifies if it is a long step or a short step. This and previous parameter define how fast we arrive at a possible solution. &lt;br/&gt;&lt;br/&gt;In order to compensate for overfitting regularization can be performed. (L1 or L2 norm). &lt;br/&gt;&lt;br/&gt;Logistic regression implementation provides a choice of two training methods with &lt;i&gt;Batch Gradient Descent&lt;/i&gt; or the &lt;i&gt;Mini-Batch Gradient Descent&lt;/i&gt;. ]]></help>
  <citations>
    <citation type="bibtex">Josh</citation>
  </citations>
</tool>
