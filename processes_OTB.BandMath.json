{
    "id": "OTB.BandMath",
    "title": "Outputs a monoband image which is the result of a mathematical operation on several multi-band images.",
    "description": "This application performs a mathematical operation on several multi-band images and outputs the result into a monoband image. The given expression is computed at each pixel position. Evaluation of the mathematical formula is done by the muParser libraries.The formula can be written using:  * numerical values ( 2.3, -5, 3.1e4, ...)  * variables containing pixel values (e.g. : 'im2b3' is the pixel value in 2nd image, 3rd band)  * binary operators:    * '+' addition, '-' subtraction, '*' multiplication, '/' division    * '^' raise x to the power of y    * '",
    "mutable": false,
    "version": "1.0.0",
    "jobControlOptions": [
        "sync-execute",
        "async-execute",
        "dismiss"
    ],
    "outputTransmission": [
        "value",
        "reference"
    ],
    "links": [
        {
            "rel": "http://www.opengis.net/def/rel/ogc/1.0/execute",
            "type": "application/json",
            "title": "Execute End Point",
            "href": "https://ospd.geolabs.fr:8300/ogc-api/processes/OTB.BandMath/execution"
        },
        {
            "rel": "alternate",
            "type": "text/html",
            "title": "Execute End Point",
            "href": "https://ospd.geolabs.fr:8300/ogc-api/processes/OTB.BandMath/execution.html"
        }
    ],
    "inputs": {
        "il": {
            "title": "Image-list of operands to the mathematical expression.",
            "description": "Image-list of operands to the mathematical expression.",
            "maxOccurs": 1024,
            "extended-schema": {
                "type": "array",
                "minItems": 1,
                "maxItems": 1024,
                "items": {
                    "oneOf": [
                        {
                            "allOf": [
                                {
                                    "$ref": "http://zoo-project.org/dl/link.json"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "enum": [
                                                "image/tiff",
                                                "image/jpeg",
                                                "image/png"
                                            ]
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "type": "object",
                            "required": [
                                "value"
                            ],
                            "properties": {
                                "value": {
                                    "oneOf": [
                                        {
                                            "type": "string",
                                            "contentEncoding": "base64",
                                            "contentMediaType": "image/tiff"
                                        },
                                        {
                                            "type": "string",
                                            "contentEncoding": "base64",
                                            "contentMediaType": "image/jpeg"
                                        },
                                        {
                                            "type": "string",
                                            "contentEncoding": "base64",
                                            "contentMediaType": "image/png"
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                }
            },
            "schema": {
                "oneOf": [
                    {
                        "type": "string",
                        "contentEncoding": "base64",
                        "contentMediaType": "image/tiff"
                    },
                    {
                        "type": "string",
                        "contentEncoding": "base64",
                        "contentMediaType": "image/jpeg"
                    },
                    {
                        "type": "string",
                        "contentEncoding": "base64",
                        "contentMediaType": "image/png"
                    }
                ]
            }
        },
        "out": {
            "title": "Output image which is the result of the mathematical expressions on input image-list operands.",
            "description": "Output image which is the result of the mathematical expressions on input image-list operands.",
            "schema": {
                "type": "string",
                "default": "float",
                "enum": [
                    "uint8",
                    "uint16",
                    "int16",
                    "int32",
                    "int32",
                    "float",
                    "double"
                ]
            }
        },
        "ram": {
            "title": "Available memory for processing (in MB)",
            "description": "Available memory for processing (in MB)",
            "schema": {
                "type": "integer",
                "default": 128,
                "nullable": true
            }
        },
        "exp": {
            "title": "The muParser mathematical expression to apply on input images.",
            "description": "The muParser mathematical expression to apply on input images.",
            "schema": {
                "type": "string"
            }
        }
    },
    "outputs": {
        "out": {
            "title": "Output image which is the result of the mathematical expressions on input image-list operands.",
            "description": "Output image which is the result of the mathematical expressions on input image-list operands.",
            "extended-schema": {
                "oneOf": [
                    {
                        "allOf": [
                            {
                                "$ref": "http://zoo-project.org/dl/link.json"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "enum": [
                                            "image/tiff",
                                            "image/jpeg",
                                            "image/png"
                                        ]
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "type": "object",
                        "required": [
                            "value"
                        ],
                        "properties": {
                            "value": {
                                "oneOf": [
                                    {
                                        "type": "string",
                                        "contentEncoding": "base64",
                                        "contentMediaType": "image/tiff"
                                    },
                                    {
                                        "type": "string",
                                        "contentEncoding": "base64",
                                        "contentMediaType": "image/jpeg"
                                    },
                                    {
                                        "type": "string",
                                        "contentEncoding": "base64",
                                        "contentMediaType": "image/png"
                                    }
                                ]
                            }
                        }
                    }
                ]
            },
            "schema": {
                "oneOf": [
                    {
                        "type": "string",
                        "contentEncoding": "base64",
                        "contentMediaType": "image/tiff"
                    },
                    {
                        "type": "string",
                        "contentEncoding": "base64",
                        "contentMediaType": "image/jpeg"
                    },
                    {
                        "type": "string",
                        "contentEncoding": "base64",
                        "contentMediaType": "image/png"
                    }
                ]
            }
        }
    }
}